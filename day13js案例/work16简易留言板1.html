<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>work16简易留言板1</title>
	</head>
	<body>
		user:<input type="text" value="" id="txt"/>
		<input type="button" value="添加" id="btn"/>
		<ul id="box"></ul>
	</body>
	<script type="text/javascript">
		window.onload=function(){
			var otxt=document.getElementById('txt');
			var obtn=document.getElementById('btn');
			var obox=document.getElementById('box');
			
			obtn.onclick=function(){
				sendmessage();
			}
			
			function sendmessage(){
				var oli=document.createElement('li');
				oli.innerHTML=otxt.value+'<a href="javascript:;">隐藏</a>';
				
				if(obox.children.length){
					obox.insertBefore(oli,obox.children[0]);	
				}else{
					obox.appendChild(oli);		
				}
				
				otxt.value='';
				oli.children[0].onclick=function(){
					obox.removeChild(this.parentNode);
				}	
			}
			
			otxt.onkeydown=function(ev){
				var oevent=ev || event;
				if(oevent.ctrlKey&&oevent.keyCode==13){
					sendMessage();	
				}
			}
		}
	</script>
</html>
